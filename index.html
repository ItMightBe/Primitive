<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>PORTFOLIO TEMPLET BY PRIMITIVE</title>
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,400,700" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/common.css"/>
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script> -->
<script>
// $(document).ready(function(){
//   $('.slider').bxSlider({
//     auto:true,
//     speed:100,
//   });
// });
</script>
</head>
<body>
    <div id="intro">
        <div id="wrap" class="wrap_intro">
            <a class="intro_bg slider" href="main.html">
                <img class="img num1" data-order="num1" src="images/intro_img_1.png">
                <img class="img num2" data-order="num2" src="images/bg_intro_2.jpeg">
                <img class="img num3" data-order="num3" src="images/bg_intro_3.jpeg">
                <img class="img num4" data-order="num4" src="images/bg_intro_4.jpeg">
                <img class="img num5" data-order="num5" src="images/bg_intro_5.png">
<!--                 <a href="main.html">
                    페이지 이동
                    <img src="images/intro_img_1.svg" alt="" class="right">
                    <img src="images/intro_img_2.svg" alt="" class="top">
                    <img src="images/intro_img_3.svg" alt="" class="left">
                </a> -->
            </a>
            <h1 class="intro_title">
                <em>UI/UX DESIGNER</em>
                <strong class="name">HONG GIL-DONG</strong>
                <p>PORTFOLIO</p>
            </h1>
            <div class="intro_info">
                <p class="info_date">2018.10.30</p>
                <div class="info_author">
                    <p class="number">010 2247 6082</p>
                    <p class="email">gsh3676@gmail.com</p>
                </div>
            </div>
            <div class="intro_pager">
                    <a class="button" data-order="num1" href=#></a>
                    <a class="button" data-order="num2" href=#></a>
                    <a class="button" data-order="num3" href=#></a>
                    <a class="button" data-order="num4" href=#></a>
                    <a class="button" data-order="num5" href=#></a>
            </div>
            <!-- <div class="intro_pager">
                <li data-order="num1"><div class="stay"></div><div class="move"></div></li>
                <li data-order="num2"><div class="stay"></div><div class="move"></div></li>
                <li data-order="num3"><div class="stay"></div><div class="move"></div></li>
                <li data-order="num4"><div class="stay"></div><div class="move"></div></li>
                <li data-order="num5"><div class="stay"></div><div class="move"></div></li>
            </div> -->
        </div>
    </div>
<script>






var introPager = document.querySelector(".intro_pager");
var targetAs = introPager.querySelectorAll("a");
var introBg = document.querySelector(".intro_bg");
var slideImg = introBg.querySelectorAll(".img");

bgSlideWork();
// introPagerWork();

var i = 1;

// setTimeout(function(){
//     var slide = document.querySelector(img[class = "num1"]);
//     console.log(slide);
// }, 500);

function bgSlideWork() {
    targetAs.forEach(function(i) {i.addEventListener("click", clickSlide);})
    //페이저의 각 a에 클릭 이벤트에 대한 리스너를 부착한다.

    function clickSlide(e) {
        slideImg.forEach(function(i){
            i.style.visibility = "hidden";
            i.style.left = "-100%";
            i.style.opacity = "0";
        })
        //모든 배경 슬라이드의 visibility를 hidden한다.

        var pagerDataValue = e.target.getAttribute('data-order');
        
        var currentSlide = document.querySelector(`img[data-order="${pagerDataValue}"]`);
        //현재 클릭이 일어난 페이저의 attiribute 값이 위 pageDataValue와 일치하는 배경 슬라이드를 찾아서
        //currentSlide에 할당한다.

        currentSlide.style.visibility = "visible";
        currentSlide.style.left = "0";
        currentSlide.style.opacity = "1";
    }
}

function introPagerWork() {
    var moving;
    var openedA;

    targetAs.forEach(function (li) {
        li.addEventListener('click', menuClick);
    })

    function menuClick(e) {
        console.log("it is clicked");
        var movings = introPager.querySelectorAll('.move');
        console.log(movings);

        movings.forEach(function(i){
            i.style.transform = "rotate(0deg)";
            i.style.opacity = "0";
            i.style.visibility = "hidden";
        })

        if(e.target.tagName == "LI") {
            var currentMoving = e.target.querySelector('.move');
        } else if(e.target.tagName == "DIV") {
            var currentMoving = e.target.parentElement.querySelector('.move');
        }
        
        currentMoving.style.visibility = "visible";
        currentMoving.style.opacity = "1";
        currentMoving.style.transform = "rotate(-45deg)";
        openedA = moving;
    }


}

</script>
</body>
</html>